<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900&amp;display=swap" rel="stylesheet">
</head>

<title>The amazing Manuelizator</title>
<link rel="stylesheet" href="./styles/default-theme.css">
</link>
<link rel="stylesheet" href="./styles/default.css">
</link>
<link rel="manifest" href="./manifest.json">


</head>

<body>
    <header class="p-3 bg-dark text-white">
        <img src="./resources/summer_edition.png">
        <img src="./resources/logo.png" alt="Logo" srcset="">
        <h1 class="display-4 fst-italic">Il fattore M di cui avevi bisogno</h1>
    </header>

    <div class="container">
        <div id="upload">

            <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
                <div class="col-10 col-sm-8 col-lg-6">
                    <img src="./resources/mordor.png" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes"
                        loading="lazy" width="700" height="500">
                </div>
                <div class="col-lg-6">
                    <h1 class="display-5 fw-bold lh-1 mb-3">Ai tuoi selfie manca il fattore M?</h1>
                    <p class="lead">
                        Grazie a <b>complessi algoritmi di Intelligenza Artificiale<sup>TM</sup></b> e alle tecnologie
                        cutting edge on premise di <strong>Manuelizator</strong><sup>TM</sup> il tuo selfie verrà
                        migliorato, potenziato e arricchito di quel piccolo dettaglio che prima non avevi. <br>
                    </p>

                    <p class="bullsh">
                        "Con <strong>Manuelizator</strong><sup>TM</sup> finalmente ora posso reingegnerizzare
                        espedienti
                        visionari"<br />
                        <small>
                            <a href="https://www.phibbi.com/generatore/stronzate-web-economy/">Mario - CEO</a>
                        </small>
                    </p>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                        <button type="button" id="upload-button" class="btn btn-primary btn-lg px-4 me-md-2">Carica ORA
                            il tuo selfie</button>
                        <button type="button" id="upload-button1" class="btn btn-outline-secondary btn-lg px-4">Passa
                            alla versione
                            PRO</button>
                    </div>
                </div>
            </div>


            <input type="file" name="" id="src-image" />
        </div>

        <div id="result">
            <div class="row flex-lg-row-reverse align-items-center g-5 py-5">

                <div class="col-lg-6">
                    <h1 class="display-5 fw-bold lh-1 mb-3">Il tuo selfie è stato <span id="attributo"></span>!!!</h1>
                    <p class="lead">
                        Se sei soddisfatto di <strong>Manuelizator</strong><sup>TM</sup> passa alla versione PRO
                    </p>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                        <button id="download-immagine" class="btn btn-primary btn-lg px-4 me-md-2">Scarica e salva per
                            l'eternità</button>
                        <button id="nuova-immagine" class="btn btn-outline-secondary btn-lg px-4">Carica un altro
                            selfie</button>
                    </div>
                </div>
                <div class="col-10 col-sm-8 col-lg-6">
                    <canvas id="canvas" class="rounded mx-auto d-block"></canvas>
                </div>
            </div>

        </div>

        <div class="d-grid gap-2">
            <button id="install-pwa" class="btn btn-outline-primary">Installa come PWA e tienila sempre con te</button>
        </div>
        <img src="./resources/mauello-selfie.png" id="template" alt="manuello">
    </div>
</body>

<script type="module" lang="text/javascript">
    import { Manuelizator } from './js/manuelizator.js';

    const manuelizator = new Manuelizator();

    manuelizator.initialize({
        canvas: document.getElementById('canvas'),
        input: document.getElementById('src-image'),
        template: document.getElementById('template'),
        nuovaImmagine: document.getElementById('nuova-immagine'),
        attributo: document.getElementById('attributo')
    });

    document.getElementById('upload-button').addEventListener('click', () => {
        document.getElementById('src-image').click();
    });

    document.getElementById('download-immagine').addEventListener('click', (e) => {
        manuelizator.download();

        e.preventDefault();
    });

</script>
<script type="text/javascript" src="./js/pwa.js"></script>

</html>